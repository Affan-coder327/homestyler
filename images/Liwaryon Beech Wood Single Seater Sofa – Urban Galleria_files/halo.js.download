(function($2){var body=$2("body"),doc=$2(document),html=$2("html"),win=$2(window),wrapperOverlaySlt=".wrapper-overlay",iconNav,dropdownCart,miniProductList,wishListsArr=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[];localStorage.setItem("items",JSON.stringify(wishListsArr)),wishListsArr.length&&(wishListsArr=JSON.parse(localStorage.getItem("items"))),doc.ready(function(){iconNav=$2("[data-menu-mb-toogle]"),dropdownCart=$2("#dropdown-cart"),miniProductList=dropdownCart.find(".mini-products-list"),doc.ajaxStart(function(){ella.isAjaxLoading=!0}),doc.ajaxStop(function(){ella.isAjaxLoading=!1}),ella.init(),doc.on("shopify:section:load",ella.initSlideshow).on("shopify:section:unload",ella.initSlideshow).on("shopify:section:load",ella.initSliderFeaturedProducts).on("shopify:section:unload",ella.initSliderFeaturedProducts).on("shopify:section:load",ella.initBrandsSlider).on("shopify:section:unload",ella.initBrandsSlider)});var winWidth=win.innerWidth();win.off("resize.initMenuMobile").on("resize.initMenuMobile",function(){var resizeTimerId;clearTimeout(resizeTimerId),resizeTimerId=setTimeout(function(){var curWinWidth=win.innerWidth();(curWinWidth<1200&&winWidth>=1200||curWinWidth>=1200&&winWidth<1200)&&(ella.showHideMenuMobile(),ella.initToggleMuiltiLangCurrency(),ella.addTextMuiltiOptionActive($2("#lang-switcher"),$2("#lang-switcher [data-value].active"),$2("[data-language-label]")),ella.addTextMuiltiOptionActive($2("#currencies"),$2("#currencies [data-currency].active"),$2("[data-currency-label]")),ella.initDropdownColFooter(),ella.dropdownCart(),ella.dropdownCustomer(),ella.stickyFixedTopMenu()),winWidth=curWinWidth},0)}),win.on("resize",function(){ella.setActiveViewModeMediaQuery()});var ella={ellaTimeout:null,isSidebarAjaxClick:!1,isAjaxLoading:!1,init:function(){this.closeHeaderTop(),this.showHideMenuMobile(),this.closeAllOnMobile(),this.initToggleMuiltiLangCurrency(),this.addTextMuiltiOptionActive($2("#lang-switcher"),$2("#lang-switcher [data-value].active"),$2("[data-language-label]")),this.addTextMuiltiOptionActive($2("#currencies"),$2("#currencies [data-currency].active"),$2("[data-currency-label]")),this.initDropdownColFooter(),this.initScrollTop(),this.dropdownCart(),this.initColorSwatchGrid(),this.initToggleSubMenuMobile(),this.dropdownCustomer(),this.initNewsLetterPopup(),this.addEventShowOptions(),this.changeQuantityAddToCart(),this.initAddToCart(),this.initGroupedAddToCart(),this.initSliderFeaturedProducts(),this.addEventLookbookModal(),this.initPoliciesSlider(),this.initCountdown(),this.initCountdownNormal(),(body.hasClass("template-index")||body.hasClass("template-page"))&&(this.initSlideshow(),this.initBrandsSlider()),body.hasClass("template-index")&&(this.initInfiniteScrollingHomepage(),this.clickedActiveProductTabs(),this.initCollectionBannerSlider(),this.initBlogPostSlider(),this.handleScrollDown()),(body.hasClass("template-collection")||body.hasClass("template-search"))&&(this.historyAdapter(),this.initInfiniteScrolling(),this.initPaginationPage()),body.hasClass("template-collection")&&(this.filterToolbar(),this.filterSidebar(),this.toggleVariantsForExpressOrder(),this.initExpressOrderAddToCart()),this.initSidebar(),this.initProductMoreview($2("[data-more-view-product] .product-img-box")),this.initCustomerViewProductShop(),this.initChangeQuantityButtonEvent(),this.initQuantityInputChangeEvent(),this.removeCartItem(),this.initZoom(),this.initQuickView(),this.stickyFixedTopMenu(),this.openSearchForm(),body.hasClass("template-product")&&(this.initSoldOutProductShop(),this.productPageInitProductTabs(),this.changeSwatch("#add-to-cart-form .swatch :radio"),this.initStickyForProductFullWidth(),this.initStickyAddToCart(),this.wrapTable(),$2(".frequently-bought-together-block").length>0&&this.initBundleProducts()),body.hasClass("template-cart")&&this.checkBundleProducts(),this.initWishListIcons(),this.doAddOrRemoveWishlish(),body.hasClass("template-page")&&$2(".wishlist-page").length&&this.initWishLists()},closeHeaderTop:function(){var headerTopEml=$2(".header-top"),closeHeaderTopElm=headerTopEml.find("[data-close-header-top]");closeHeaderTopElm.length&&closeHeaderTopElm.is(":visible")&&($2.cookie("headerTop")=="closed"&&headerTopEml.remove(),closeHeaderTopElm.off("click.closeHeaderTop").on("click.closeHeaderTop",function(e){e.preventDefault(),e.stopPropagation(),headerTopEml.remove(),$2.cookie("headerTop","closed",{expires:1,path:"/"})}))},showHideMenuMobile:function(){iconNav.length&&iconNav.is(":visible")&&iconNav.off("click.showMenuMobile").on("click.showMenuMobile",function(e){e.preventDefault(),e.stopPropagation(),html.toggleClass("translate-overlay"),$2(".close-menu-mb").toggleClass("menu-open"),$2(".main-menu.jas-mb-style").css({overflow:""}),$2(".site-nav").find("[data-toggle-menu-mb]").parent().next(".sub-menu-mobile").removeClass("sub-menu-open")})},closeAllOnMobile:function(){body.off("click.close",wrapperOverlaySlt).on("click.close",wrapperOverlaySlt,function(e){e.preventDefault(),e.stopPropagation(),html.removeClass("translate-overlay cart-show customer-show sidebar-open options-show"),$2(".close-menu-mb").removeClass("menu-open"),$2(".main-menu.jas-mb-style").css({overflow:""}),$2(".site-nav").find("[data-toggle-menu-mb]").parent().next(".sub-menu-mobile").removeClass("sub-menu-open")})},initToggleMuiltiLangCurrency:function(){var langCurrencyGroups=$2(".lang-currency-groups"),dropdownGroup=langCurrencyGroups.find(".btn-group"),dropdownLabel=dropdownGroup.find(".dropdown-label");dropdownLabel.length&&dropdownLabel.is(":visible")?(dropdownLabel.off("click.toggleMuiltiOption").on("click.toggleMuiltiOption",function(e){e.preventDefault(),e.stopPropagation();var selfNextDropdown=$2(this).next();selfNextDropdown.is(":visible")?selfNextDropdown.slideUp(300):(dropdownLabel.next(".dropdown-menu").hide(),selfNextDropdown.slideDown(300))}),ella.hideMuiltiLangCurrency()):dropdownLabel.next(".dropdown-menu").css({display:""})},hideMuiltiLangCurrency:function(){doc.off("click.hideMuiltiLangCurrency").on("click.hideMuiltiLangCurrency",function(e){var muiltiDropdown=$2(".lang-currency-groups .dropdown-menu");!muiltiDropdown.is(e.target)&&!muiltiDropdown.has(e.target).length&&muiltiDropdown.slideUp(300)})},addTextMuiltiOptionActive:function(SltId,dataSlt,label){if(label.length&&label.is(":visible")){var item=dataSlt.html();SltId.prev(label).html(item)}},initSlideshow:function(){var slickSlideshow=$2("[data-init-slideshow]");slickSlideshow.length&&slickSlideshow.each(function(){var self=$2(this),auto_playvideo=self.data("auto-video");if(auto_playvideo){var postMessageToPlayer2=function(player,command){player==null||command==null||player.contentWindow.postMessage(JSON.stringify(command),"*")},playPauseVideo2=function(slick,control){var currentSlide,player,video;if(currentSlide=slick.find(".slick-current"),player=currentSlide.find("iframe").get(0),currentSlide.hasClass("slide-youtube"))switch(control){case"play":postMessageToPlayer2(player,{event:"command",func:"mute"}),postMessageToPlayer2(player,{event:"command",func:"playVideo"});break;case"pause":postMessageToPlayer2(player,{event:"command",func:"pauseVideo"});break}else currentSlide.hasClass("slide-video")&&(video=currentSlide.children("video").get(0),video!=null&&(control==="play"?video.play():video.pause()))},postMessageToPlayer=postMessageToPlayer2,playPauseVideo=playPauseVideo2;self.on("init",function(slick){slick=$2(slick.currentTarget),setTimeout(function(){playPauseVideo2(slick,"play")},1e3)}),self.on("beforeChange",function(event,slick){slick=$2(slick.$slider),playPauseVideo2(slick,"pause")}),self.on("afterChange",function(event,slick){slick=$2(slick.$slider),playPauseVideo2(slick,"play")})}self.not(".slick-initialized")&&self.slick({dots:self.data("dots"),slidesToScroll:1,verticalSwiping:!1,fade:self.data("fade"),cssEase:"ease",adaptiveHeight:!0,autoplay:self.data("autoplay"),autoplaySpeed:self.data("autoplay-speed"),nextArrow:'<button type="button" class="slick-next"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 17 33" xml:space="preserve"><g id="e4eb89a6-f885-43b8-9259-0d6b1516fab0"><g id="_x38_e584754-6657-46f1-a9d8-2cfd6623b552"><g><polygon points="14.9,14.5 0,0 0,3.7 11.1,14.5 13.2,16.5 11.1,18.5 0,29.3 0,33 14.9,18.5 17,16.5 "></polygon></g></g></g></svg></button>',prevArrow:'<button type="button" class="slick-prev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 33"><g id="7f9a1925-e8c7-4614-8787-3c6095a9f6e1" data-name="Layer 2"><g id="c9b7920a-81fa-4bfe-ad13-4da717c6854b" data-name="Layer 1"><g id="c2d982ff-0cf6-4220-b365-47f30d708fea" data-name="e4eb89a6-f885-43b8-9259-0d6b1516fab0"><g id="f51d455e-6b9c-4c4e-96db-a5004582beda" data-name="8e584754-6657-46f1-a9d8-2cfd6623b552"><polygon points="0 16.5 2.1 18.5 17 33 17 29.3 5.9 18.5 3.8 16.5 5.9 14.5 17 3.7 17 0 2.1 14.5 0 16.5"></polygon></g></g></g></g></svg></button>',responsive:[{breakpoint:1280,settings:{arrows:!1,dots:self.data("dots")}},{breakpoint:768,settings:{arrows:!1,dots:!0}}]})})},initInfiniteScrollingHomepage:function(){var newArrivalsProduct=$2("[data-new-arrivals-product]");newArrivalsProduct.each(function(){var self=$2(this),productGrid=self.find(".products-grid"),productsToShow=productGrid.data("products-to-show"),showMorebtn=self.find(".infinite-scrolling-homepage a"),noMoreText=window.inventory_text.no_more_product;productGrid.find(".grid-item:hidden").length?showMorebtn.off("click.showMoreProduct").on("click.showMoreProduct",function(e){e.preventDefault(),productGrid.find(".grid-item:hidden").length>0&&(productGrid.find(".grid-item:hidden:lt("+productsToShow+")").each(function(){$2(this).show()}),win.scroll()),productGrid.find(".grid-item:hidden").length||(window.multi_lang&&translator.isLang2()&&(noMoreText=window.lang2.collections.general.no_more_product),showMorebtn.html(noMoreText).addClass("disabled"))}):(window.multi_lang&&translator.isLang2()&&(noMoreText=window.lang2.collections.general.no_more_product),showMorebtn.html(noMoreText).addClass("disabled"))})},initSliderFeaturedProducts:function(){var featuredProduct=$2("[data-featured-products]");featuredProduct.each(function(){var self=$2(this),productGrid=self.find(".products-grid"),gridItemWidth=productGrid.data("row"),hasRightSidebar=$2(".halo-product-content .pro-page [data-has-right-sidebar]");productGrid.not(".slick-initialized")&&productGrid.slick({get slidesToShow(){return hasRightSidebar.length?this.slidesToShow=5:this.slidesToShow=productGrid.data("row")},get vertical(){return productGrid.hasClass("verticle")?this.vertical=!0:this.vertical=!1},get slidesToScroll(){return productGrid.hasClass("verticle")?this.slidesToScroll=1:this.slidesToScroll=productGrid.data("row")},speed:1e3,infinite:!1,get dots(){return self.hasClass("has-banner")?this.dots=!0:this.dots=!1},nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',responsive:[{breakpoint:1400,settings:{get slidesToShow(){return self.hasClass("has-banner")?this.slidesToShow=3:gridItemWidth>5?this.slidesToShow=5:this.slidesToShow=productGrid.data("row")},get slidesToScroll(){return self.hasClass("has-banner")?this.slidesToScroll=3:productGrid.hasClass("verticle")?this.slidesToScroll=1:gridItemWidth>=4?this.slidesToScroll=4:(gridItemWidth=3)?this.slidesToScroll=3:this.slidesToScroll=2}}},{breakpoint:1200,settings:{dots:!0,arrows:!1,vertical:!1,get slidesToShow(){return self.hasClass("has-banner")?this.slidesToShow=2:gridItemWidth>=4?this.slidesToShow=4:(gridItemWidth=3)?this.slidesToShow=3:this.slidesToShow=2},get slidesToScroll(){return self.hasClass("has-banner")?this.slidesToScroll=2:gridItemWidth>=4?this.slidesToScroll=4:(gridItemWidth=3)?this.slidesToScroll=3:this.slidesToScroll=2}}},{breakpoint:992,settings:{dots:!0,arrows:!1,vertical:!1,get slidesToShow(){return gridItemWidth>=3?this.slidesToShow=3:this.slidesToShow=2},get slidesToScroll(){return gridItemWidth>=3?this.slidesToScroll=3:this.slidesToScroll=2}}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,vertical:!1,dots:!0}}]})})},initBrandsSlider:function(){this.brandsStyle1(),this.brandsStyle2()},brandsStyle1:function(){var brandsSlider=$2("[data-brands-slider]");brandsSlider.each(function(){var self=$2(this);self.not(".slick-initialized")&&self.slick({slidesToShow:self.data("rows"),slidesToScroll:1,dots:!1,infinite:!1,speed:800,nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',responsive:[{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})})},brandsStyle2:function(){var brandsSlider=$2("[data-brands-slider-style2]");brandsSlider.each(function(){var self=$2(this);self.not(".slick-initialized")&&self.slick({rows:2,slidesPerRow:self.data("rows"),slidesToShow:1,slidesToScroll:1,dots:!1,speed:800,arrows:!1,responsive:[{breakpoint:1200,settings:{slidesPerRow:1,slidesToShow:4,rows:2}},{breakpoint:992,settings:{slidesPerRow:1,slidesToShow:3,rows:2}},{breakpoint:768,settings:{slidesPerRow:1,slidesToShow:2,dots:!0,rows:2}}]})})},initDropdownColFooter:function(){var footerTitle=$2(".site-footer .dropdow-mb");window.innerWidth<768?footerTitle.length&&footerTitle.off("click.slideToggle").on("click.slideToggle",function(){$2(this).next().slideToggle(),$2(this).toggleClass("open")}):footerTitle.next().css({display:""})},initScrollTop:function(){var backToTop=$2("#back-top");win.scroll(function(){$2(this).scrollTop()>220?backToTop.fadeIn(400):backToTop.fadeOut(400)}),backToTop.off("click.scrollTop").on("click.scrollTop",function(e){return e.preventDefault(),e.stopPropagation(),$2("html, body").animate({scrollTop:0},400),!1})},dropdownCustomer:function(){this.initDropdownCustomerTranslate($2("[data-user-mobile-toggle]"),"customer-show"),window.innerWidth>=1200&&this.initDropdownCustomerTranslate($2("[data-user-pc-translate]"),"customer-show"),this.closeDropdownCustomerTranslate(),this.initDropdownCustomer()},initDropdownCustomerTranslate:function(iconUser,sltShowUser){iconUser.length&&iconUser.is(":visible")&&iconUser.off("click.dropdownCustomerMobile").on("click.dropdownCustomerMobile",function(e){e.preventDefault(),e.stopPropagation(),html.addClass(sltShowUser)})},closeTranslate:function(closeElm,classRemove){$2(closeElm).length&&body.off("click.closeCustomer",closeElm).on("click.closeCustomer",closeElm,function(e){e.preventDefault(),e.stopPropagation(),html.removeClass(classRemove)})},closeDropdownCustomerTranslate:function(){ella.closeTranslate("#dropdown-customer .close-customer","customer-show")},appendCustomerForPCHeaderDefault:function(){var customerLink=$2(".header-default .header-panel-bt .customer-links"),dropdowCustomer=$2("#dropdown-customer");window.innerWidth>=1200?dropdowCustomer.appendTo(customerLink):dropdowCustomer.appendTo(body)},doDropdownCustomerPCHeaderDefault:function(){var customerLoginLink=$2("[data-dropdown-user]");window.innerWidth>=1200&&customerLoginLink.off("click.toogleCustomer").on("click.toogleCustomer",function(e){e.preventDefault(),e.stopPropagation(),$2(this).siblings("#dropdown-customer").slideToggle()})},initDropdownCustomer:function(){var siteHeader=$2(".site-header");siteHeader.hasClass("header-default")&&(this.appendCustomerForPCHeaderDefault(),this.doDropdownCustomerPCHeaderDefault())},dropdownCart:function(){this.closeDropdownCartTranslate(),this.initDropdownCartMobile(),this.initDropdownCartDesktop(),this.checkItemsInDropdownCart(),this.removeItemDropdownCart()},appendDropdownCartForMobile:function(){var wrapperTopCart=$2(".wrapper-top-cart");window.innerWidth<1200?dropdownCart.appendTo(body):dropdownCart.appendTo(wrapperTopCart)},closeDropdownCartTranslate:function(){ella.closeTranslate("#dropdown-cart .close-cart","cart-show")},initDropdownCartMobile:function(){var headerMb=$2(".header-mb, [data-cart-header-parallax], [data-cart-header-02], [data-cart-header-04], [data-cart-header-supermarket]"),cartIcon=headerMb.find("[data-cart-toggle]");cartIcon.off("click.initDropdownCartMobile").on("click.initDropdownCartMobile",function(e){e.preventDefault(),e.stopPropagation(),html.toggleClass("cart-show")})},initDropdownCartDesktop:function(){var siteHeader=$2(".site-header");siteHeader.hasClass("header-default")&&(ella.appendDropdownCartForMobile(),ella.initDropdownCartForHeaderDefault())},addEventShowOptions:function(){var optionsIconSlt="[data-show-options]";doc.off("click.showOptions",optionsIconSlt).on("click.showOptions",optionsIconSlt,function(e){e.preventDefault(),e.stopPropagation(),html.toggleClass("options-show")}),ella.closeTranslate(".lang-currency-groups .close-option","options-show")},initDropdownCartForHeaderDefault:function(){var wrapperTopCart=$2(".wrapper-top-cart"),cartIcon=wrapperTopCart.find("[data-cart-toggle]");cartIcon.length&&cartIcon.is(":visible")?window.dropdowncart_type=="click"?cartIcon.off("click.toogleDropdownCart").on("click.toogleDropdownCart",function(e){e.preventDefault(),e.stopPropagation(),wrapperTopCart.toggleClass("is-open"),dropdownCart.slideToggle()}):(cartIcon.hover(function(){var customer=$2("#dropdown-customer");customer.is(":visible")&&customer.hide(),wrapperTopCart.hasClass("is-open")||(wrapperTopCart.addClass("is-open"),dropdownCart.slideDown())}),wrapperTopCart.mouseleave(function(){wrapperTopCart.hasClass("is-open")&&(wrapperTopCart.removeClass("is-open"),dropdownCart.slideUp())})):dropdownCart.css("display","")},checkItemsInDropdownCart:function(){var cartNoItems=dropdownCart.find(".no-items"),cartHasItems=dropdownCart.find(".has-items");miniProductList.children().length?(cartHasItems.show(),cartNoItems.hide()):(cartHasItems.hide(),cartNoItems.show())},removeItemDropdownCart:function(cart){var btnRemove=dropdownCart.find(".btn-remove");btnRemove.off("click.removeCartItem").on("click.removeCartItem",function(e){e.preventDefault(),e.stopPropagation();var productId=$2(this).parents(".item").attr("id");productId=productId.match(/\d+/g),Shopify.removeItem(productId,function(cart2){ella.doUpdateDropdownCart(cart2),ella.checkBundleProducts()})})},updateDropdownCart:function(){Shopify.getCart(function(cart){ella.doUpdateDropdownCart(cart)})},doUpdateDropdownCart:function(cart){var template='<li class="item" id="cart-item-{ID}"><a href="{URL}" title="{TITLE}" class="product-image"><img src="{IMAGE}" alt="{TITLE}"></a><div class="product-details"><a href="javascript:void(0)" title="Remove This Item" class="btn-remove"><svg aria-hidden="true" data-prefix="fal" data-icon="times" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" class="svg-inline--fa fa-times fa-w-10 fa-2x"><path fill="currentColor" d="M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z" class=""></path></svg></a><a class="product-name" href="{URL}">{TITLE}</a><div class="option"><small>{VARIANT}</small></div><div class="cart-collateral"><span class="qtt">{QUANTITY} X </span><span class="price">{PRICE}</span></div></div></li>';if($2("[data-cart-count]").text(cart.item_count),dropdownCart.find(".summary .price").html(Shopify.formatMoney(cart.total_price,window.money_format)),miniProductList.html(""),cart.item_count>0){for(var i=0;i<cart.items.length;i++){var item=template;item=item.replace(/\{ID\}/g,cart.items[i].id),item=item.replace(/\{URL\}/g,cart.items[i].url),item=item.replace(/\{TITLE\}/g,ella.translateText(cart.items[i].product_title)),item=item.replace(/\{VARIANT\}/g,cart.items[i].variant_title||""),item=item.replace(/\{QUANTITY\}/g,cart.items[i].quantity),item=item.replace(/\{IMAGE\}/g,Shopify.resizeImage(cart.items[i].image,"160x")),item=item.replace(/\{PRICE\}/g,Shopify.formatMoney(cart.items[i].price,window.money_format)),miniProductList.append(item)}ella.removeItemDropdownCart(cart),ella.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"#dropdown-cart span.money","money_format")}ella.checkItemsInDropdownCart()},translateText:function(str){if(!window.multi_lang||str.indexOf("|")<0)return str;if(window.multi_lang){var textArr=str.split("|");return translator.isLang2()?textArr[1]:textArr[0]}},checkNeedToConvertCurrency:function(){return window.show_multiple_currencies&&Currency.currentCurrency!=shopCurrency},initColorSwatchGrid:function(){var itemSwatchSlt=".item-swatch li label";body.off("click.toggleClass").on("click.toggleClass",itemSwatchSlt,function(){var self=$2(this),productItemElm=self.closest(".grid-item"),sidebarWidgetProduct=productItemElm.closest(".sidebar-widget-product");$2(".item-swatch li label").removeClass("active"),self.addClass("active");var newImage=self.data("img");if(sidebarWidgetProduct.length&&(newImage=newImage.replace("800x","large")),newImage)return productItemElm.find(".product-grid-image .images-one").attr({src:newImage,"data-src":newImage}),!1})},showLoading:function(){$2(".loading-modal").show()},hideLoading:function(){$2(".loading-modal").hide()},showModal:function(selector){$2(selector).fadeIn(500),ella.ellaTimeout=setTimeout(function(){$2(selector).fadeOut(500)},5e3)},translateBlock:function(blockSelector){window.multi_lang&&translator.isLang2()&&translator.doTranslate(blockSelector)},closeLookbookModal:function(){$2(".ajax-lookbook-modal").fadeOut(500)},addEventLookbookModal:function(){body.off("click.addEvenLookbookModal touchstart.addEvenLookbookModal","[data-lookbook-icon]").on("click.addEvenLookbookModal touchstart.addEvenLookbookModal","[data-lookbook-icon]",function(e){e.preventDefault(),e.stopPropagation();var handle=$2(this).data("handle"),position=$2(this);ella.doAjaxAddLookbookModal(handle,position),doc.off("click.closeLookbookModal").on("click.closeLookbookModal","[data-close-lookbook-modal], .ajax-lookbook-modal .overlay",function(){return ella.closeLookbookModal(),!1})})},doAjaxAddLookbookModal:function(handle,position){var offSet=$2(position).offset(),top=offSet.top,left=offSet.left,iconWidth=position.innerWidth(),innerLookbookModal=$2(".ajax-lookbook-modal").innerWidth(),str3=iconWidth+"px",str4=innerLookbookModal+"px",newtop,newleft;window.innerWidth>767?(left>innerLookbookModal+31?newleft="calc("+left+"px - "+str4+" + 2px)":newleft="calc("+left+"px + "+str3+" - 2px)",newtop=top-innerLookbookModal/2+"px"):(newleft=0,newtop=top-30+"px"),!ella.isAjaxLoading&&$2.ajax({type:"get",url:"/products/"+handle+"?view=json",success:function(data){$2(".ajax-lookbook-modal").css({left:newleft,top:newtop}),$2(".ajax-lookbook-modal .lookbook-content").html(data),ella.translateBlock(".lookbook-content"),$2(".ajax-lookbook-modal").fadeIn(500)},error:function(xhr,text){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")}})},clickedActiveProductTabs:function(){var productTabsSection=$2("[data-home-product-tabs]");productTabsSection.each(function(){var self=$2(this),listTabs=self.find(".list-product-tabs"),tabLink=listTabs.find("[data-product-tabTop]"),tabContent=self.find("[data-product-TabContent]"),linkActive=self.find(".list-product-tabs .tab-links.active"),activeTab=self.find(".product-tabs-content .tab-content.active");ella.doAjaxProductTabs(linkActive.data("href"),activeTab.find(".loading"),activeTab.find(".products-grid")),tabLink.off("click").on("click",function(e){if(e.preventDefault(),e.stopPropagation(),!$2(this).hasClass("active")&&!$2(this).hasClass("active")){var curTab=$2(this),curTabContent=$2(curTab.data("target"));tabLink.removeClass("active"),tabContent.removeClass("active"),curTabContent.find(".products-grid").hasClass("slick-initialized")||ella.doAjaxProductTabs(curTab.data("href"),curTabContent.find(".loading"),curTabContent.find(".products-grid")),curTab.addClass("active"),curTabContent.addClass("active")}})})},doAjaxProductTabs:function(handle,loadingElm,curTabContent){$2.ajax({type:"get",url:handle,beforeSend:function(){loadingElm.text("Loading ... please wait ...")},success:function(data){loadingElm.hide(),handle=="/collections/?view=json"?loadingElm.text("Please link to collections").show():(curTabContent.html($2(data).find(".grid-items").html()),curTabContent.hasClass("slick-initialized")||ella.initProductTabsSlider(curTabContent.parent()),ella.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"span.money","money_format"),ella.translateBlock("[data-home-product-tabs]"),ella.initColorSwatchGrid(),ella.initWishListIcons(),ella.ellaTimeout=setTimeout(function(){if($2(".shopify-product-reviews-badge").length&&$2(".spr-badge").length)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()},1e3))},error:function(xhr,text){loadingElm.text("Sorry, there are no products in this collection").show()}})},initProductTabsSlider:function(slt){slt.each(function(){var self=$2(this),productGrid=self.find(".products-grid"),gridItemWidth=productGrid.data("row");productGrid.not(".slick-initialized")&&productGrid.find(".grid-item").length&&productGrid.slick({slidesToShow:productGrid.data("row"),slidesToScroll:productGrid.data("row"),dots:!1,infinite:!1,speed:1e3,nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',responsive:[{breakpoint:1200,settings:{dots:!0,arrows:!1,get slidesToShow(){return self.hasClass("sections-has-banner")?this.slidesToShow=2:gridItemWidth>=4?this.slidesToShow=4:(gridItemWidth=3)?this.slidesToShow=3:this.slidesToShow=2},get slidesToScroll(){return self.hasClass("sections-has-banner")?this.slidesToScroll=2:gridItemWidth>=4?this.slidesToScroll=4:(gridItemWidth=3)?this.slidesToScroll=3:this.slidesToScroll=2}}},{breakpoint:992,settings:{dots:!0,arrows:!1,get slidesToShow(){if(self.hasClass("sections-has-banner"))return this.slidesToShow=2;if(gridItemWidth>=3)return this.slidesToShow=3;this.slidesToShow=2},get slidesToScroll(){return self.hasClass("sections-has-banner")?this.slidesToScroll=2:gridItemWidth>=3?this.slidesToScroll=3:this.slidesToScroll=2}}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,dots:!0}}]})})},initBlogPostSlider:function(){var blogBlock=$2("[data-blogs-slider]");blogBlock.each(function(){var self=$2(this),rows=self.data("rows");self.not(".slick-initialized")&&self.slick({slidesToShow:rows,slidesToScroll:1,dots:!1,speed:800,autoplay:!1,arrows:!0,nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',responsive:[{breakpoint:992,settings:{slidesToScroll:2,slidesToShow:2}},{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:1}}]})})},initPoliciesSlider:function(){var policyBlock=$2("[data-policies-slider]");policyBlock.each(function(){var self=$2(this),rows=self.data("row");self.not(".slick-initialized")&&self.slick({slidesToShow:rows,slidesToScroll:1,autoplay:!0,dots:!1,speed:800,nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',responsive:[{breakpoint:1200,settings:{slidesToScroll:1,get slidesToShow(){if(rows>=3)return this.slidesToShow=3;rows==2?this.slidesToShow=2:this.slidesToShow=1}}},{breakpoint:992,settings:{slidesToScroll:1,get slidesToShow(){if(rows>=2)return this.slidesToShow=2;this.slidesToShow=1}}},{breakpoint:768,settings:{slidesToScroll:1,slidesToShow:1}}]})})},initCollectionBannerSlider:function(){var collectionSlider=$2("[data-home-collections-slider]");window.innerWidth>=1200&&collectionSlider.each(function(){var self=$2(this),rows=self.data("rows");self.not(".slick-initialized")&&self.slick({slidesToShow:rows,slidesToScroll:rows,infinite:!1,speed:1e3,nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',responsive:[{breakpoint:1200,settings:"unslick"}]})})},initCountdown:function(){var countdownElm=$2("[data-countdown]");countdownElm.each(function(){var self=$2(this),countdownValue=self.data("countdown-value");self.countdown(countdownValue,function(event){$2(this).html(event.strftime('<div class="clock-item"><span class="num">%D</span><span>days</span></div><div class="clock-item"><span class="num">%H</span><span>hours</span></div><div class="clock-item"><span class="num">%M</span><span>mins</span></div><div class="clock-item"><span class="num">%S</span><span>secs</span></div>'))})})},initCountdownNormal:function(){var countdownElm=$2("[data-countdown-normal]");countdownElm.each(function(){var self=$2(this),countdownValue=self.data("countdown-value");self.hasClass("countdown-suppermarket")?self.countdown(countdownValue,function(event){$2(this).html(event.strftime('<div class="clock-item"><span class="num">%D</span><span>d</span></div><div class="clock-item"><span class="num">%H</span>&nbsp;:</div><div class="clock-item"><span class="num">%M</span>&nbsp;:</div><div class="clock-item"><span class="num">%S</span></div>'))}):self.countdown(countdownValue,function(event){$2(this).html(event.strftime('<div class="clock-item"><span class="num">%D</span><span>D</span>:</div><div class="clock-item"><span class="num">%H</span><span>H</span>:</div><div class="clock-item"><span class="num">%M</span><span>M</span>:</div><div class="clock-item"><span class="num">%S</span><span>S</span></div>'))})})},initToggleSubMenuMobile:function(){var mainMenu=$2(".main-menu.jas-mb-style"),siteNav=$2(".site-nav"),iconDropdown=siteNav.find("[data-toggle-menu-mb]");iconDropdown.off("click.dropdownMenu").on("click.dropdownMenu",function(e){e.preventDefault(),e.stopPropagation();var curParent=$2(this).parent(),curMenu=curParent.next(".sub-menu-mobile");curMenu.hasClass("sub-menu-open")?curMenu.removeClass("sub-menu-open"):(curMenu.addClass("sub-menu-open").css({overflow:""}),mainMenu.animate({scrollTop:0},0),mainMenu.css({overflow:"hidden"}))}),ella.linkClickToggleSubMenuMobile(mainMenu)},linkClickToggleSubMenuMobile:function(mainMenu){var menuMobile=$2(".site-nav .dropdown"),iconDropdown=menuMobile.find("[data-toggle-menu-mb]"),menuMobileLabel=$2(".sub-menu-mobile .menu-mb-title");iconDropdown.length&&iconDropdown.is(":visible")&&(menuMobile.off("click.current").on("click.current",function(e){e.stopPropagation(),$2(this).children(".sub-menu-mobile").addClass("sub-menu-open").css({overflow:""}),mainMenu.animate({scrollTop:0},0),mainMenu.css({overflow:"hidden"})}),menuMobile.find(".menu__moblie").on("click",function(e){e.stopPropagation()}),menuMobileLabel.off("click.closeMenu").on("click.closeMenu",function(e){e.preventDefault(),e.stopPropagation(),$2(this).parent().hasClass("bg")?$2(this).parent().parent().removeClass("sub-menu-open"):$2(this).parent().removeClass("sub-menu-open"),$2(this).closest(".menu-lv-2").length||mainMenu.css({overflow:""})}))},openEmailModalWindow:function(newsletterWrapper){newsletterWrapper.fadeIn(1e3)},closeEmailModalWindow:function(newsletterWrapper){newsletterWrapper.fadeOut(1e3);var inputChecked=newsletterWrapper.find('input[name="dismiss"]').prop("checked");(inputChecked||!newsletterWrapper.find('input[name="dismiss"]').length)&&$2.cookie("emailSubcribeModal","closed",{expires:1,path:"/"})},initNewsLetterPopup:function(){if(window.newsletter_popup){var newsletterWrapper=$2("[data-newsletter]"),closeWindow=newsletterWrapper.find(".close-window"),delay=newsletterWrapper.data("delay");modalContent=newsletterWrapper.find(".halo-modal-content"),$2.cookie("emailSubcribeModal")!="closed"&&(ella.ellaTimeout=setTimeout(function(){ella.openEmailModalWindow(newsletterWrapper)},delay)),closeWindow.click(function(e){e.preventDefault(),ella.closeEmailModalWindow(newsletterWrapper)}),newsletterWrapper.on("click",function(e){!modalContent.is(e.target)&&!modalContent.has(e.target).length&&ella.closeEmailModalWindow(newsletterWrapper)}),$2("#mc_embed_signup form").submit(function(){$2("#mc_embed_signup .email").val()!=""&&ella.closeEmailModalWindow(newsletterWrapper)})}},initSidebarProductSlider:function(){var sidebarWidgetProduct=$2("[data-sidebar-product]");sidebarWidgetProduct.each(function(){var self=$2(this),productGrid=self.find(".products-grid");productGrid.not(".slick-initialized")&&productGrid.slick({slidesToShow:1,slidesToScroll:1,infinite:!1,dots:!1,speed:800,nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>'})})},initOpenSidebar:function(){var sidebarLabelSlt=".sidebar-label",sidebarLabelElm=$2(sidebarLabelSlt);sidebarLabelElm.length&&body.off("click.openSidebar").on("click.openSidebar",sidebarLabelSlt,function(){html.addClass("sidebar-open")})},closeSidebar:function(){ella.closeTranslate(".sidebar .close-sidebar","sidebar-open")},initSidebar:function(){this.initSidebarProductSlider(),this.initOpenSidebar(),this.closeSidebar(),this.initDropdownSubCategoriesAtSidebar(),this.initToggleWidgetTitleSidebarFilter()},initDropdownSubCategoriesAtSidebar:function(){var iconDropdownSlt=".sidebar-links li.dropdown",linkDropdownSlt=".sidebar-links li.dropdown a";body.off("click.toggleSubCategories").on("click.toggleSubCategories",iconDropdownSlt,function(e){e.stopPropagation();var self=$2(this),dropdown=self.find("> .dropdown-cat");self.hasClass("open")?(self.removeClass("open"),dropdown.slideUp()):(self.addClass("open"),dropdown.slideDown())}),body.off("click.linktoCollection").on("click.linktoCollection",linkDropdownSlt,function(e){e.stopPropagation()})},historyAdapter:function(){var collTpl=$2('[data-section-type="collection-template"]');collTpl.length&&History.Adapter.bind(window,"statechange",function(){var State=History.getState();if(!ella.isSidebarAjaxClick){ella.queryParams();var newurl=ella.ajaxCreateUrl();ella.doAjaxToolbarGetContent(newurl),ella.doAjaxSidebarGetContent(newurl)}ella.isSidebarAjaxClick=!1})},queryParams:function(){if(Shopify.queryParams={},location.search.length)for(var aKeyValue,i=0,aCouples=location.search.substr(1).split("&");i<aCouples.length;i++)aKeyValue=aCouples[i].split("="),aKeyValue.length>1&&(Shopify.queryParams[decodeURIComponent(aKeyValue[0])]=decodeURIComponent(aKeyValue[1]))},filterAjaxClick:function(baseLink){delete Shopify.queryParams.page;var newurl=ella.ajaxCreateUrl(baseLink);ella.isSidebarAjaxClick=!0,History.pushState({param:Shopify.queryParams},newurl,newurl)},ajaxCreateUrl:function(baseLink){var newQuery=$2.param(Shopify.queryParams).replace(/%2B/g,"+");return baseLink?newQuery!=""?baseLink+"?"+newQuery:baseLink:location.pathname+"?"+newQuery},filterToolbar:function(){this.queryParams(),this.setTextForSortbyFilter(),this.setTextForLimitedFilter(),this.ajaxFilterSortby(),this.ajaxFilterLimit(),this.addEventViewModeLayout()},setTextForSortbyFilter:function(){var filterSortby=$2("[data-sortby]"),labelTab=filterSortby.find(".label-tab"),labelText=labelTab.find(".label-text"),sortbyLinkActive=labelTab.next().find("li.active"),text=sortbyLinkActive.text();if(labelText.text(text),Shopify.queryParams.sort_by){var sortBy=Shopify.queryParams.sort_by,sortByLinkActive=filterSortby.find('span[data-href="'+sortBy+'"]'),sortByText=sortByLinkActive.text();labelText.text(sortByText),labelTab.next().find("li").removeClass("active"),sortByLinkActive.parent().addClass("active")}},setTextForLimitedFilter:function(){var filterLimited=$2("[data-limited-view]"),labelTab=filterLimited.find(".label-tab"),labelText=labelTab.find(".label-text"),limitedLinkActive=labelTab.next().find("li.active"),text=limitedLinkActive.text();if(labelText.text(text),filterLimited.length){var limited=filterLimited.find("li.active span").data("value"),limitedActive=filterLimited.find('span[data-value="'+limited+'"]'),limitedText=limitedActive.text();labelText.text(limitedText),labelTab.next().find("li").removeClass("active"),limitedActive.parent().addClass("active")}},ajaxFilterSortby:function(){var sortbyFilterSlt="[data-sortby] li span",sortbyFilter=$2(sortbyFilterSlt);body.off("click.sortBy",sortbyFilterSlt).on("click.sortBy",sortbyFilterSlt,function(e){e.preventDefault(),e.stopPropagation();var self=$2(this),parent=self.parent();if(!parent.hasClass("active")){Shopify.queryParams.sort_by=$2(this).attr("data-href"),ella.filterAjaxClick();var newurl=ella.ajaxCreateUrl();ella.doAjaxToolbarGetContent(newurl)}sortbyFilter.closest(".dropdown-menu").prev().trigger("click")})},ajaxFilterLimit:function(){var limitFilterSlt="[data-limited-view] li span",limitFilter=$2(limitFilterSlt);body.off("click.sortBy",limitFilterSlt).on("click.sortBy",limitFilterSlt,function(e){e.preventDefault(),e.stopPropagation();var self=$2(this),parent=self.parent();if(!parent.hasClass("active")){var dataValue=self.data("value"),value=""+dataValue;$2("[data-limited-view] .label-tab .label-text").text(value),ella.doAjaxLimitGetContent(value)}limitFilter.closest(".dropdown-menu").prev().trigger("click")})},doAjaxLimitGetContent:function(value){ella.isAjaxLoading||$2.ajax({type:"Post",url:"/cart.js",data:{"attributes[pagination]":value},success:function(data){window.location.reload()},error:function(xhr,text){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")},dataType:"json"})},doAjaxToolbarGetContent:function(newurl){ella.isAjaxLoading||$2.ajax({type:"get",url:newurl,beforeSend:function(){ella.showLoading()},success:function(data){ella.ajaxMapData(data),ella.initColorSwatchGrid(),ella.setTextForSortbyFilter(),ella.initSidebarProductSlider(),ella.initCountdownNormal()},error:function(xhr,text){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")},complete:function(){ella.hideLoading()}})},filterSidebar:function(){this.queryParams(),this.ajaxFilterTags(),this.ajaxFilterClearTags(),this.ajaxFilterClearAll()},ajaxFilterTags:function(){body.off("click.filterTags").on("click.filterTags",".sidebar-tags .list-tags a, .sidebar-tags .list-tags label, .refined .selected-tag",function(e){e.preventDefault(),e.stopPropagation();var newTags=[];if(Shopify.queryParams.constraint&&(newTags=Shopify.queryParams.constraint.split("+")),!window.enable_sidebar_multiple_choice&&!$2(this).prev().is(":checked")){var otherTag=$2(this).closest(".sidebar-tags, .refined-widgets").find("input:checked");if(otherTag.length){var tagName=otherTag.val();if(tagName){var tagPos=newTags.indexOf(tagName);tagPos>=0&&newTags.splice(tagPos,1)}}}var tagName=$2(this).prev().val();if(tagName){var tagPos=newTags.indexOf(tagName);tagPos>=0?newTags.splice(tagPos,1):newTags.push(tagName)}newTags.length?Shopify.queryParams.constraint=newTags.join("+"):delete Shopify.queryParams.constraint,ella.filterAjaxClick();var newurl=ella.ajaxCreateUrl();ella.doAjaxSidebarGetContent(newurl)})},ajaxFilterClearTags:function(){var sidebarTag=$2(".sidebar-tags");sidebarTag.each(function(){var sidebarTag2=$2(this);sidebarTag2.find("input:checked").length&&sidebarTag2.find(".clear").show().click(function(e){e.preventDefault(),e.stopPropagation();var currentTags=[];Shopify.queryParams.constraint&&(currentTags=Shopify.queryParams.constraint.split("+")),sidebarTag2.find("input:checked").each(function(){var selectedTag=$2(this),tagName=selectedTag.val();if(tagName){var tagPos=currentTags.indexOf(tagName);tagPos>=0&&currentTags.splice(tagPos,1)}}),currentTags.length?Shopify.queryParams.constraint=currentTags.join("+"):delete Shopify.queryParams.constraint,ella.filterAjaxClick();var newurl=ella.ajaxCreateUrl();ella.doAjaxSidebarGetContent(newurl)})})},ajaxFilterClearAll:function(){var clearAllSlt=".refined-widgets a.clear-all",clearAllElm=$2(clearAllSlt);body.off("click.clearAllTags",clearAllSlt).on("click.clearAllTags",clearAllSlt,function(e){e.preventDefault(),e.stopPropagation(),delete Shopify.queryParams.constraint,ella.filterAjaxClick();var newurl=ella.ajaxCreateUrl();ella.doAjaxSidebarGetContent(newurl)})},doAjaxSidebarGetContent:function(newurl){ella.isAjaxLoading||$2.ajax({type:"get",url:newurl,beforeSend:function(){ella.showLoading()},success:function(data){ella.ajaxMapData(data),ella.initColorSwatchGrid(),ella.ajaxFilterClearTags(),ella.initSidebarProductSlider(),ella.initCountdownNormal()},error:function(xhr,text){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")},complete:function(){ella.hideLoading()}})},ajaxMapData:function(data){var curCollTemplate=$2(".collection-template"),curBreadcrumb=curCollTemplate.find(".breadcrumb"),curSidebar=curCollTemplate.find(".sidebar"),curCollHeader=curCollTemplate.find(".collection-header"),curProColl=curCollTemplate.find(".product-collection"),curPadding=curCollTemplate.find(".padding"),newCollTemplate=$2(data).find(".collection-template"),newBreadcrumb=newCollTemplate.find(".breadcrumb"),newSidebar=newCollTemplate.find(".sidebar"),newCollHeader=newCollTemplate.find(".collection-header"),newProColl=newCollTemplate.find(".product-collection"),newPadding=newCollTemplate.find(".padding");if(curBreadcrumb.replaceWith(newBreadcrumb),curSidebar.replaceWith(newSidebar),curCollHeader.replaceWith(newCollHeader),curProColl.replaceWith(newProColl),curPadding.length>0?curPadding.replaceWith(newPadding):curCollTemplate.find(".col-main").length?curCollTemplate.find(".col-main").append(newPadding):curCollTemplate.find(".col-no-sidebar").append(newPadding),ella.translateBlock(".collection-template"),ella.initWishListIcons(),$2("[data-view-as]").length&&ella.viewModeLayout(),ella.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"span.money","money_format"),$2(".shopify-product-reviews-badge").length&&$2(".spr-badge").length)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()},initToggleWidgetTitleSidebarFilter:function(){var widgetTitleSlt="[data-has-collapse] .widget-title";body.off("click.toggleWidgetContent").on("click.toggleWidgetContent",widgetTitleSlt,function(){$2(this).toggleClass("open"),$2(this).next().slideToggle()});var widgetTitleSltCollNoSidebar="[data-has-collapse-no-sidebar] .widget-title";win.innerWidth()<1200&&body.off("click.toggleWidgetContent2").on("click.toggleWidgetContent2",widgetTitleSltCollNoSidebar,function(){$2(this).toggleClass("open"),$2(this).next().slideToggle()})},initInfiniteScrolling:function(){var infiniteScrolling=$2(".infinite-scrolling"),infiniteScrollingLinkSlt=".infinite-scrolling a";infiniteScrolling.length&&(body.off("click.initInfiniteScrolling",infiniteScrollingLinkSlt).on("click.initInfiniteScrolling",infiniteScrollingLinkSlt,function(e){if(e.preventDefault(),e.stopPropagation(),!$2(this).hasClass("disabled")){var url=$2(this).attr("href");ella.doAjaxInfiniteScrollingGetContent(url)}}),window.infinity_scroll_feature&&$2(window).scroll(function(){if(!ella.isAjaxLoading){var collectionTplElm=$2('[data-section-type="collection-template"]');collectionTplElm.length||(collectionTplElm=$2("[data-search-page]"));var collectionTop=collectionTplElm.offset().top,collectionHeight=collectionTplElm.outerHeight(),posTop=collectionTop+collectionHeight-$2(window).height();if($2(this).scrollTop()>posTop&&$2(this).scrollTop()<posTop+200){var button=$2(infiniteScrollingLinkSlt);if(button.length&&!button.hasClass("disabled")){var url=button.attr("href");ella.doAjaxInfiniteScrollingGetContent(url)}}}}))},doAjaxInfiniteScrollingGetContent:function(url){ella.isAjaxLoading||$2.ajax({type:"get",url:url,beforeSend:function(){ella.showLoading()},success:function(data){ella.ajaxInfiniteScrollingMapData(data),ella.initColorSwatchGrid(),$2("[data-view-as]").length&&ella.viewModeLayout(),ella.initCountdownNormal()},error:function(xhr,text){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")},complete:function(){ella.hideLoading()}})},ajaxInfiniteScrollingMapData:function(data){var collectionTemplate=$2(".collection-template"),currentProductColl=collectionTemplate.find(".product-collection"),newCollectionTemplate=$2(data).find(".collection-template"),newProductColl=newCollectionTemplate.find(".product-collection"),newProductItem=newProductColl.children(".grid-item").not(".banner-img");if(showMoreButton=$2(".infinite-scrolling a"),newProductColl.length){if(currentProductColl.append(newProductItem),$2(".collection-template .product-collection[data-layout]").length&&(ella.ellaTimeout=setTimeout(function(){currentProductColl.isotope("appended",newProductItem).isotope("layout")},700)),ella.translateBlock(".product-collection"),$2(data).find(".infinite-scrolling").length>0)showMoreButton.attr("href",newCollectionTemplate.find(".infinite-scrolling a").attr("href"));else{var noMoreText=window.inventory_text.no_more_product;window.multi_lang&&translator.isLang2()&&(noMoreText=window.lang2.collections.general.no_more_product),showMoreButton.html(noMoreText).addClass("disabled")}if(ella.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"span.money","money_format"),$2(".shopify-product-reviews-badge").length&&$2(".spr-badge").length)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()}},addEventViewModeLayout:function(){ella.setActiveViewModeMediaQuery(),body.on("click",".view-mode .icon-mode",function(e){e.preventDefault();var self=$2(this),col=self.data("col"),parents=self.closest("[data-view-as]");self.hasClass("active")||(parents.find(".icon-mode").removeClass("active"),self.addClass("active"),ella.viewModeLayout())})},viewModeLayout:function(){var viewMode=$2("[data-view-as]"),viewModeActive=viewMode.find(".icon-mode.active"),col=viewModeActive.data("col"),products=$2(".collection-template .product-collection"),gridItem=products.find(".grid-item"),strClass="col-12 col-6 col-md-4 col-lg-3 col5",gridClass="grid-2 grid-3 grid-4 grid-5 products-grid products-list";switch(col){case 1:gridItem.hasClass("grid-item-mansory")?products.removeClass(gridClass).addClass("products-list"):products.removeClass("products-grid").addClass("products-list"),gridItem.removeClass(strClass).addClass("col-12");break;default:switch(col){case 2:gridItem.hasClass("grid-item-mansory")?products.removeClass(gridClass).addClass("products-grid grid-2"):products.removeClass("products-list").addClass("products-grid"),gridItem.removeClass(strClass).addClass("col-6");break;case 3:gridItem.hasClass("grid-item-mansory")?products.removeClass(gridClass).addClass("products-grid grid-3"):products.removeClass("products-list").addClass("products-grid"),gridItem.removeClass(strClass).addClass("col-6 col-md-4");break;case 4:gridItem.hasClass("grid-item-mansory")?products.removeClass(gridClass).addClass("products-grid grid-4"):products.removeClass("products-list").addClass("products-grid"),gridItem.removeClass(strClass).addClass("col-6 col-md-4 col-lg-3");break;case 5:gridItem.hasClass("grid-item-mansory")?products.removeClass(gridClass).addClass("products-grid grid-5"):products.removeClass("products-list").addClass("products-grid"),gridItem.removeClass(strClass).addClass("col-6 col-md-4 col-lg-3 col5");break}}},setActiveViewModeMediaQuery:function(){var viewMode=$2("[data-view-as]"),viewModeActive=viewMode.find(".icon-mode.active"),col=viewModeActive.data("col"),windowWidth=window.innerWidth;windowWidth<768?(col===3||col==4||col==5)&&(viewModeActive.removeClass("active"),$2('[data-col="2"]').addClass("active")):windowWidth<992&&windowWidth>=768?(col==4||col==5)&&(viewModeActive.removeClass("active"),$2('[data-col="3"]').addClass("active")):windowWidth<1200&&windowWidth>=992&&col==5&&(viewModeActive.removeClass("active"),$2('[data-col="4"]').addClass("active")),viewMode.length&&ella.viewModeLayout()},initPaginationPage:function(){var paginationSlt=".pagination-page a";body.off("click",paginationSlt).on("click",paginationSlt,function(e){if(Shopify.queryParams){e.preventDefault();var page=$2(this).attr("href").match(/page=\d+/g);if(page&&(Shopify.queryParams.page=parseInt(page[0].match(/\d+/g)),Shopify.queryParams.page)){var newurl=ella.ajaxCreateUrl();ella.isSidebarAjaxClick=!0,History.pushState({param:Shopify.queryParams},newurl,newurl),ella.doAjaxToolbarGetContent(newurl);var elm=$2('[data-section-type="collection-template"] .toolbar');elm.length||(elm=$2("[data-search-page]"));var top=elm.offset().top;$2("body,html").animate({scrollTop:top},600)}}})},changeQuantityAddToCart:function(){var buttonSlt="[data-minus-quantity], [data-plus-quantity]",buttonElm=$2(buttonSlt);doc.on("click",buttonSlt,function(e){e.preventDefault(),e.stopPropagation();var self=$2(this),input=self.siblings('input[name="quantity"]').length>0?self.siblings('input[name="quantity"]'):self.siblings('input[name="group_quantity"]');input.length<1&&(input=self.siblings('input[name="updates[]"]'));var val=parseInt(input.val());switch(!0){case self.hasClass("plus"):{val+=1;break}case(self.hasClass("minus")&&val>0):{val-=1;break}}input.val(val)})},toggleVariantsForExpressOrder:function(){var toggleVariant="[data-toggle-variant]";doc.on("click",toggleVariant,function(e){e.preventDefault(),e.stopPropagation();var self=$2(this),curVariants=self.data("target");self.hasClass("show-options-btn")?(self.text(window.inventory_text.hide_options),$2(curVariants).slideDown(700,function(){self.addClass("hide-options-btn").removeClass("show-options-btn")})):(self.text(window.inventory_text.show_options),$2(curVariants).slideUp(700,function(){self.addClass("show-options-btn").removeClass("hide-options-btn")}))})},initExpressOrderAddToCart:function(){var addToCartSlt="[data-express-addtocart]";doc.off("click.addToCartExpress",addToCartSlt).on("click.addToCartExpress",addToCartSlt,function(e){e.preventDefault();var self=$2(this);if(self.attr("disabled")!="disabled"){var productItem=self.closest(".product-item");productItem.length==0&&(productItem=self.closest(".col-options"));var form=productItem.find("form"),variant_id=form.find("select[name=id]").val();variant_id||(variant_id=form.find("input[name=id]").val());var quantityElm=productItem.find("input[name=quantity]");quantityElm.length==0&&(quantityElm=productItem.siblings(".col-qtt").find("input[name=quantity]"));var quantity2=quantityElm.val();quantity2||(quantity2=1),parseInt(quantity2)!==0?window.ajax_cart=="none"?form.submit():(ella.expressAjaxAddToCart(variant_id,quantity2,self,form),form.next(".feedback-text").show()):form.next(".feedback-text").text("Quantity cannot be blank").show()}return!1})},expressAjaxAddToCart:function(variant_id,quantity2,cartBtn,form){$2.ajax({type:"post",url:"/cart/add.js",data:"quantity="+quantity2+"&id="+variant_id,dataType:"json",beforeSend:function(){window.setTimeout(function(){cartBtn.text(window.inventory_text.adding+"...")},100)},success:function(msg){window.setTimeout(function(){cartBtn.text(window.inventory_text.thank_you)},600),window.setTimeout(function(){cartBtn.text(window.inventory_text.add_more+"...")},1e3),ella.updateDropdownCart(),cartBtn.addClass("add_more"),form.next(".feedback-text").text(window.inventory_text.cart_feedback)},error:function(xhr,text){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal"),window.setTimeout(function(){cartBtn.text(window.inventory_text.add_to_cart)},400)}})},initAddToCart:function(){var btnAddToCartSlt="[data-btn-addToCart]";doc.off("click.addToCart",btnAddToCartSlt).on("click.addToCart",btnAddToCartSlt,function(e){e.preventDefault(),e.stopPropagation();var self=$2(this),thisForm=$2(self.data("form-id")),data=thisForm.serialize();if(self.attr("disabled")!=="disabled"){var productItem=self.closest(".product-item");if(productItem.length<1){var sectionsProduct=self.closest('[data-section-type="product"]');sectionsProduct.length||(sectionsProduct=self.closest(".quickview-tpl")),productItem=sectionsProduct.find(".product-shop")}var form=productItem.find("form"),handle=productItem.find(".product-grid-image").data("collections-related")||sectionsProduct.data("collections-related");switch(window.ajax_cart){case"none":form.submit();break;case"normal":var title=productItem.find(".product-title").html(),image=productItem.find(".product-grid-image img").attr("src");image||(image=productItem.siblings(".product-photos").find('.slick-current img[id|="product-featured-image"]').attr("src")||productItem.siblings(".product-photos").find('.slick-current img[id|="qv-product-featured-image"]').attr("src")),ella.doAjaxAddToCartNormal(data,title,image);break;case"upsell":ella.doAjaxAddToCart(data,handle);break}}return!1}),ella.closeSuccessModal()},initGroupedAddToCart:function(){var btnAddToCartSlt="[data-grouped-addToCart]";ella.changeVariantSelectOption(),doc.off("click.GroupedAddToCart",btnAddToCartSlt).on("click.GroupedAddToCart",btnAddToCartSlt,function(e){e.preventDefault(),e.stopPropagation();var self=$2(this),formData=$2(self.data("form-id")),data=formData.serialize();if(self.attr("disabled")!=="disabled"){var sectionsProduct=self.closest('[data-section-type="product"]'),productItem=sectionsProduct.find(".product-shop"),form=productItem.find("form"),handle=sectionsProduct.data("collections-related"),groupedProduct=form.find(".grouped-product");Shopify.queue=[],groupedProduct.each(function(){variantId=$2(this).find("input[type=hidden]").attr("value"),quantity=parseInt($2(this).find("input[name=group_quantity]").val()),quantity>0&&variantId!==""&&Shopify.queue.push({variantId:variantId,quantity:parseInt(quantity,10)||0})}),Shopify.moveAlong=function(){if(Shopify.queue.length){var request=Shopify.queue.shift();Shopify.addItem(request.variantId,request.quantity,Shopify.moveAlong)}else{switch(window.ajax_cart){case"none":ella.doAjaxAddToCart(data,handle,!0);break;case"normal":var title=productItem.find(".product-title").html(),image=productItem.find(".product-grid-image img").attr("src");image||(image=productItem.siblings(".product-photos").find('.slick-current img[id|="product-featured-image"]').attr("src")||productItem.siblings(".product-photos").find('.slick-current img[id|="qv-product-featured-image"]').attr("src")),ella.doAjaxAddToCartNormal(data,title,image);break;case"upsell":ella.doAjaxAddToCart(data,handle);break}return!1}},Shopify.moveAlong()}}),ella.closeSuccessModal()},changeVariantSelectOption:function(){var selectSlt="[data-select-change-variant]";doc.on("change",selectSlt,function(){var value=$2(this).val(),dataImg=$2(this).find("option:selected").data("img"),dataPrice=$2(this).find("option:selected").data("price"),parent=$2(this).closest(".grouped-product");parent.find("input[type=hidden]").val(value),parent.find(".product-img img").attr({src:dataImg}),parent.find("[data-price-change]").html(Shopify.formatMoney(dataPrice,window.money_format)),ella.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"[data-select-change-variant] span.money","money_format")})},closeSuccessModal:function(){var ajaxCartModal=$2("[data-ajax-cart-success], [data-quickview-modal]"),closeWindow=ajaxCartModal.find(".close-modal, .continue-shopping"),modalContent2=ajaxCartModal.find(".halo-modal-content");closeWindow.click(function(e){e.preventDefault(),ajaxCartModal.fadeOut(500,function(){html.removeClass("halo-modal-open"),html.css({overflow:""}),body.hasClass("template-cart")&&window.location.reload()})}),ajaxCartModal.on("click",function(e){!modalContent2.is(e.target)&&!modalContent2.has(e.target).length&&ajaxCartModal.fadeOut(500,function(){html.removeClass("halo-modal-open"),html.css({overflow:""}),body.hasClass("template-cart")&&window.location.reload()})})},doAjaxAddToCartNormal:function(data,title,image){$2.ajax({type:"POST",url:"/cart/add.js",data:data,dataType:"json",beforeSend:function(){ella.showLoading()},success:function(){var ajaxCartModal=$2("[data-ajax-cart-success]"),modalContent2=ajaxCartModal.find(".cart-modal-content");modalContent2.find(".ajax-product-title").html(ella.translateText(title)),modalContent2.find(".ajax-product-image").attr("src",image),modalContent2.find(".message-added-cart").show(),ajaxCartModal.fadeIn(600,function(){$2("[data-quickview-modal]").is(":visible")&&$2("[data-quickview-modal]").hide(),ella.closeLookbookModal()}),ella.updateDropdownCart()},error:function(xhr){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")},complete:function(){ella.hideLoading()}})},doAjaxAddToCart:function(data,handle,nojax){$2.ajax({type:"POST",url:"/cart/add.js",data:data,dataType:"json",async:!1,beforeSend:function(){ella.showLoading()},success:function(data2){if(!nojax)ella.getPopupShoppingCart(!0,handle);else{var discount_code="FBT-BUNDLE-"+meta.product.id;ella.apply_discount(discount_code),window.location.href="/cart",ella.showloading()}},error:function(xhr){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")},complete:function(){ella.hideLoading()}})},getPopupShoppingCart:function(shouldShowModel,handle){var ajaxCartModal=$2("[data-ajax-cart-success]"),modalContent2=ajaxCartModal.find(".cart-popup-content"),collUpsell=ajaxCartModal.find(".cart-popup-coll-related");$2.get("/cart?view=json",function(data){modalContent2.html(data),shouldShowModel&&(handle!="/collections/?view=related"?collUpsell.load(""+handle):collUpsell.load("/collections/all?view=related"))}).always(function(){ella.updateDropdownCart(),ella.ellaTimeout=setTimeout(function(){if(ella.translateBlock("[data-ajax-cart-success]"),$2(".shopify-product-reviews-badge").length&&$2(".spr-badge").length)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()},1e3),ella.checkNeedToConvertCurrency()&&Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"[data-ajax-cart-success] span.money","money_format"),shouldShowModel&&ajaxCartModal.fadeIn(600,function(){$2("[data-quickview-modal]").is(":visible")&&$2("[data-quickview-modal]").hide(),ella.closeLookbookModal()})})},doAjaxUpdatePopupCart:function(quantity2,id){$2.ajax({type:"POST",url:"/cart/change.js",data:{id:id,quantity:quantity2},dataType:"json",beforeSend:function(){ella.showLoading()},success:function(result){ella.getPopupShoppingCart(!1),ella.checkBundleProducts()},error:function(xhr){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.showModal(".ajax-error-modal")},complete:function(){ella.hideLoading()}})},initChangeQuantityButtonEvent:function(){var buttonSlt="[data-minus-quantity-cart], [data-plus-quantity-cart]",buttonElm=$2(buttonSlt);doc.off("click.updateCart").on("click.updateCart",buttonSlt,function(e){e.preventDefault(),e.stopPropagation();var btn=$2(this),id=btn.closest("[data-product-id]").data("product-id"),quantity2=parseInt(btn.siblings('input[name="quantity"]').val());btn.hasClass("plus")?quantity2+=1:quantity2-=1,ella.doAjaxUpdatePopupCart(quantity2,id)})},initQuantityInputChangeEvent:function(){var quantityIptSlt="[data-quantity-input]";doc.on("change",quantityIptSlt,function(){var id=$2(this).closest("[data-product-id]").data("product-id"),quantity2=parseInt($2(this).val());ella.doAjaxUpdatePopupCart(quantity2,id)})},removeCartItem:function(){var removeSlt=".cart-remove";doc.on("click",removeSlt,function(e){e.preventDefault(),e.stopPropagation();var id=$2(this).closest("[data-product-id]").data("product-id");ella.doAjaxUpdatePopupCart(0,id)})},initSoldOutProductShop:function(){var soldProduct=$2(".product-shop [data-soldOut-product]");soldProduct.length&&soldProduct.each(function(){var self=$2(this),items=self.data("items").toString().split(","),hours=self.data("hours").toString().split(","),i=Math.floor(Math.random()*items.length),j=Math.floor(Math.random()*hours.length);self.find(".items-count").text(items[i]),self.find(".hours-num").text(hours[j])})},initCustomerViewProductShop:function(){var customerView=$2(".product-shop [data-customer-view]");customerView.length&&customerView.each(function(){var self=$2(this);setInterval(function(){var views=self.data("customer-view").split(","),i=Math.floor(Math.random()*views.length);self.find("label").text(views[i])},5e3)})},initProductMoreview:function(productMoreview){var sliderFor=productMoreview.find(".slider-for"),sliderNav=productMoreview.find(".slider-nav"),vertical=sliderNav.data("vertical");if(!sliderFor.hasClass("slick-initialized")&&!sliderNav.hasClass("slick-initialized")&&(sliderFor.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:sliderNav,adaptiveHeight:!0}),sliderNav.slick({infinite:!0,slidesToShow:sliderNav.data("rows"),vertical:vertical,slidesToScroll:1,asNavFor:sliderFor,focusOnSelect:!0,nextArrow:'<button type="button" class="slick-next"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 17 33" xml:space="preserve"><g id="e4eb89a6-f885-43b8-9259-0d6b1516fab0"><g id="_x38_e584754-6657-46f1-a9d8-2cfd6623b552"><g><polygon points="14.9,14.5 0,0 0,3.7 11.1,14.5 13.2,16.5 11.1,18.5 0,29.3 0,33 14.9,18.5 17,16.5 "/></g></g></g></svg></button>',prevArrow:'<button type="button" class="slick-prev"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 33"><g id="7f9a1925-e8c7-4614-8787-3c6095a9f6e1" data-name="Layer 2"><g id="c9b7920a-81fa-4bfe-ad13-4da717c6854b" data-name="Layer 1"><g id="c2d982ff-0cf6-4220-b365-47f30d708fea" data-name="e4eb89a6-f885-43b8-9259-0d6b1516fab0"><g id="f51d455e-6b9c-4c4e-96db-a5004582beda" data-name="8e584754-6657-46f1-a9d8-2cfd6623b552"><polygon points="0 16.5 2.1 18.5 17 33 17 29.3 5.9 18.5 3.8 16.5 5.9 14.5 17 3.7 17 0 2.1 14.5 0 16.5"/></g></g></g></g></svg></button>',responsive:[{breakpoint:1200,settings:{get dots(){if(vertical==!0)return dots=!0}}},{breakpoint:992,settings:{slidesToShow:4,slidesToScroll:1,get dots(){if(vertical==!0)return dots=!0}}},{breakpoint:768,settings:{slidesToShow:4,slidesToScroll:1,get dots(){if(vertical==!0)return dots=!0}}},{breakpoint:360,settings:{slidesToShow:3,slidesToScroll:1,get dots(){if(vertical==!0)return dots=!0}}}]})),window.color_swatch_style==="variant_grouped"&&window.use_color_swatch){var swatch=productMoreview.closest("[data-more-view-product]").siblings(".product-shop").find(".swatch"),swatchColor=swatch.find(".swatch-element.color"),inputChecked=swatchColor.find(":radio:checked");if(inputChecked.length){var className=inputChecked.data("filter");className!==void 0&&(sliderNav.slick("slickUnfilter"),sliderFor.slick("slickUnfilter"),sliderNav.find(className).length&&sliderFor.find(className).length&&(sliderNav.slick("slickFilter",className).slick("refresh"),sliderFor.slick("slickFilter",className).slick("refresh")))}}},changeSwatch:function(swatchSlt){doc.on("change",swatchSlt,function(){var className=$2(this).data("filter"),optionIndex=$2(this).closest(".swatch").attr("data-option-index"),optionValue=$2(this).val();if($2(this).closest("form").find(".single-option-selector").eq(optionIndex).val(optionValue).trigger("change"),window.color_swatch_style==="variant_grouped"&&window.use_color_swatch&&className!==void 0){var productShop=$2(swatchSlt).closest(".product-shop");if(productShop.closest(".product-slider").length){var productImgs=productShop.closest(".product-slider").find("[data-moreview-product-slider]"),sliderFor=productImgs.find(".slider-for");sliderFor.slick("slickUnfilter"),sliderFor.find(className).length&&sliderFor.slick("slickFilter",className).slick("refresh")}else{var productImgs=productShop.prev("[data-more-view-product]");if(productImgs.length){var sliderNav=productImgs.find(".slider-nav"),sliderFor=productImgs.find(".slider-for");sliderNav.slick("slickUnfilter"),sliderFor.slick("slickUnfilter"),sliderNav.find(className).length&&sliderFor.find(className).length&&(sliderNav.slick("slickFilter",className).slick("refresh"),sliderFor.slick("slickFilter",className).slick("refresh"))}}}})},productPageInitProductTabs:function(){var listTabs=$2(".tabs__product-page"),tabLink=listTabs.find("[data-tapTop]"),tabContent=listTabs.find("[data-TabContent]");tabLink.off("click").on("click",function(e){e.preventDefault(),e.stopPropagation();var curTab=$2(this),curTabContent=$2(curTab.data("target")),ulElm=curTab.closest(".list-tabs");ulElm.length?$2(this).hasClass("active")||(tabLink.removeClass("active"),tabContent.removeClass("active"),curTab.addClass("active"),ulElm.next().find(curTab.data("target")).addClass("active")):$2(".product-template-full-width").length?$2(this).hasClass("active")?(curTab.removeClass("active"),curTabContent.hide(0,function(){$2(document.body).trigger("sticky_kit:recalc")})):(curTab.addClass("active"),curTabContent.show(0,function(){$2(document.body).trigger("sticky_kit:recalc")})):$2(".has-sticky-product-img").length?$2(this).hasClass("active")?(curTab.removeClass("active"),curTabContent.hide()):(curTab.addClass("active"),curTabContent.show()):$2(this).hasClass("active")?(curTab.removeClass("active"),curTabContent.slideUp()):(curTab.addClass("active"),curTabContent.slideDown())});var sprBadge=".product-shop .spr-badge",btnReviewSlt=".product-template-full-width .spr-summary-actions-newreview";doc.on("click.triggerTabsReviews",sprBadge,function(){if(listTabs.length){$2("html,body").animate({scrollTop:listTabs.offset().top},400);var activeTab=listTabs.find('[data-target="#collapse-tab2"]');activeTab.hasClass("active")||activeTab.trigger("click")}}),$2(".product-template-full-width").length&&doc.on("click",btnReviewSlt,function(){$2(document.body).trigger("sticky_kit:recalc")})},initStickyForProductFullWidth:function(){var productTplFullWidth=$2(".product-template-full-width"),winWidth2=win.innerWidth(),stickyElm1=productTplFullWidth.find("[data-sticky-1]"),stickyElm2=productTplFullWidth.find("[data-sticky-2]"),stickyElm3=productTplFullWidth.find("[data-sticky-3]"),stickyResizeTimerId,destroySticky=function(){stickyElm1.trigger("sticky_kit:detach"),stickyElm3.trigger("sticky_kit:detach"),stickyElm2.trigger("sticky_kit:detach")},initSticky=function(){stickyElm1.stick_in_parent({offset_top:70,inner_scrolling:!1}),stickyElm3.stick_in_parent({offset_top:68}),stickyElm2.stick_in_parent({offset_top:50}).on("sticky_kit:bottom",function(){stickyElm2.addClass("sticky-on-bottom")}).on("sticky_kit:unbottom",function(){stickyElm2.removeClass("sticky-on-bottom")})};productTplFullWidth.length&&(winWidth2>=1200&&initSticky(),win.off("resize.sticky").on("resize.sticky",function(){clearTimeout(stickyResizeTimerId),stickyResizeTimerId=setTimeout(function(){var curWinWidth=win.innerWidth();curWinWidth<1200&&winWidth2>=1200?destroySticky():curWinWidth>=1200&&winWidth2<1200&&initSticky(),winWidth2=curWinWidth},0)}))},initQuickView:function(){body.off("click.initQuickView",".quickview-button").on("click.initQuickView",".quickview-button",function(e){e.preventDefault(),e.stopPropagation();var href=$2(this).attr("id");ella.doAjaxShowQuickView(href),ella.closeSuccessModal()})},doAjaxShowQuickView:function(href){ella.isAjaxLoading||$2.ajax({type:"get",url:"/products/"+href+"?view=quickview",beforeSend:function(){ella.showLoading(),html.css({overflow:"hidden"})},success:function(data){var quickviewModal=$2("[data-quickview-modal]"),modalContent2=quickviewModal.find(".halo-modal-body");modalContent2.html(data),setTimeout(function(){if(ella.translateBlock("[data-quickview-modal]"),ella.initProductMoreview($2("[data-more-view-product-qv] .product-img-box")),ella.initSoldOutProductShop(),ella.initCustomerViewProductShop(),ella.changeSwatch(".quickview-tpl .swatch :radio"),ella.initCountdownNormal(),ella.initZoom(),ella.setAddedForWishlistIcon(href),$2.getScript("https://s7.addthis.com/js/300/addthis_widget.js#pubid=ra-595b0ea2fb9c5869").done(function(){typeof addthis!="undefined"&&(addthis.init(),addthis.layers.refresh())}),$2(".shopify-product-reviews-badge").length&&$2(".spr-badge").length)return window.SPR.registerCallbacks(),window.SPR.initRatingHandler(),window.SPR.initDomEls(),window.SPR.loadProducts(),window.SPR.loadBadges()},500),ella.hideLoading(),quickviewModal.fadeIn(600,function(){$2("[data-ajax-cart-success]").is(":visible")&&$2("[data-ajax-cart-success]").hide()})},error:function(xhr,text){$2(".ajax-error-message").text($2.parseJSON(xhr.responseText).description),ella.hideLoading(),ella.showModal(".ajax-error-modal")}})},initZoom:function(){var zoomElm=$2(".product-img-box [data-zoom]");win.width()>=1200?zoomElm.zoom():zoomElm.trigger("zoom.destroy")},openSearchForm:function(){var iconSearchSlt="[data-search-mobile-toggle]",wrapperHeader=$2(".wrapper-header"),formSearch=wrapperHeader.find(".search-form");doc.off("click.toggleSearch",iconSearchSlt).on("click.toggleSearch",iconSearchSlt,function(e){e.preventDefault(),e.stopPropagation(),html.addClass("search-open")}),doc.off("click.hideSearch").on("click.hideSearch",function(e){var searchForm=$2(".wrapper-header .search-form .search-bar");!searchForm.is(e.target)&&!searchForm.has(e.target).length&&(html.removeClass("search-open"),$2(".quickSearchResultsWrap").hide())})},stickyFixedTopMenu:function(){window.fixtop_menu&&(window.innerWidth>=1200?($2("[data-sticky-mb]").unstick(),setTimeout(function(){$2(".site-header").css("height",""),$2("[data-sticky-pc]").sticky({zIndex:3}),$2("[data-sticky-pc]").on("sticky-start",function(){body.addClass("has_sticky")}),$2("[data-sticky-pc]").on("sticky-end",function(){body.removeClass("has_sticky")})},100)):($2("[data-sticky-pc]").unstick(),setTimeout(function(){$2(".site-header").css("height",""),$2("[data-sticky-mb]").sticky({zIndex:3})},100)))},handleScrollDown:function(){var iconSrollDownSlt="[data-scroll-down]",iconSrollDown=$2(iconSrollDownSlt);iconSrollDown.each(function(){var self=$2(this),target=self.closest(".shopify-section").next(".shopify-section").attr("id");self.attr("href","#"+target),doc.off("click.handleScrollDown",iconSrollDownSlt).on("click.handleScrollDown",iconSrollDownSlt,function(e){e.preventDefault();var scroll=$2(this.getAttribute("href"));scroll.length&&$2("html, body").stop().animate({scrollTop:scroll.offset().top},500)})})},initStickyAddToCart:function(){var blockSticky=$2("[data-sticky-add-to-cart]"),sltVariantActive=blockSticky.find(".pr-active"),variantElm=blockSticky.find(".pr-swatch");if(blockSticky.length){var showHideVariantsOptions=function(){sltVariantActive.off("click.showListVariant").on("click.showListVariant",function(e){e.preventDefault(),blockSticky.toggleClass("open-sticky")}),doc.off("click.hideVariantsOption").on("click.hideVariantsOption",function(e){!sltVariantActive.is(e.target)&&sltVariantActive.has(e.target).length===0&&blockSticky.removeClass("open-sticky")})},handleActiveVariant=function(){variantElm.off("click.activeVar").on("click.activeVar",function(e){var self=$2(this),text=self.text(),value=self.data("value"),newImage=self.data("img");variantElm.removeClass("active"),self.addClass("active"),blockSticky.toggleClass("open-sticky"),blockSticky.find(".action input[type=hidden]").val(value),sltVariantActive.attr("data-value",value).text(text);var swatchNameValue=$2('#add-to-cart-form [data-value-sticky="'+value+'"]');return swatchNameValue.each(function(){var slt=$2(this).data("value");$2('[data-value="'+slt+'"]').closest(".swatch").find("#"+slt).click()}),self.hasClass("sold-out")?blockSticky.find(".sticky-add-to-cart").val(window.inventory_text.sold_out).addClass("disabled").attr("disabled","disabled"):blockSticky.find(".sticky-add-to-cart").removeClass("disabled").removeAttr("disabled").val(window.inventory_text.add_to_cart),$2(".pr-img img").attr({src:newImage}),!1})},stickyAddToCart=function(){doc.on("click","[data-sticky-btn-addToCart]",function(e){return e.preventDefault(),$2("#add-to-cart-form [data-btn-addToCart]").length?$2("#add-to-cart-form [data-btn-addToCart]").click():$2("#add-to-cart-form [data-grouped-addToCart]").length&&$2("#add-to-cart-form [data-grouped-addToCart]").click(),!1})},activeVariantSelected=function(){var optionSelected=$2("#product-selectors option:selected"),value=optionSelected.val(),stickyActive=blockSticky.find('.pr-swatch[data-value="'+value+'"]'),stickyText=stickyActive.text();sltVariantActive.text(stickyText),stickyActive.addClass("active");var str=stickyActive.data("img");$2(".pr-img img").attr({src:str}),$2(".swatch .swatch-element").each(function(e){var idVariant=$2(this).find("input:radio").attr("id");$2('.swatch input.text[data-value="'+idVariant+'"]').appendTo($2(this))}),$2(".selector-wrapper").change(function(){var n=$2("#product-selectors").val();if($2(".sticky_form .pr-selectors li").each(function(e){var t=$2(this).find("a").data("value");t==n?$2(this).find("a").addClass("active"):$2(this).find("a").removeClass("active")}),$2("#product-selectors").change(function(){var str2="";$2("#product-selectors option:selected").each(function(){str2+=$2(this).data("imge")}),$2(".pr-img img").attr({src:str2})}).trigger("change"),variantElm.hasClass("active")){var h=$2(".sticky_form .pr-swatch.active").text();$2(".sticky_form .action input[type=hidden]").val(n),sltVariantActive.text(h),sltVariantActive.attr("data-value",n)}})},offSetTop=$2("#add-to-cart-form .groups-btn").offset().top;$2(window).scroll(function(){var scrollTop=$2(this).scrollTop();scrollTop>offSetTop?body.addClass("show_sticky"):body.removeClass("show_sticky")}),showHideVariantsOptions(),handleActiveVariant(),stickyAddToCart(),activeVariantSelected()}},createWishListTplItem:function(ProductHandle){var wishListCotainer=$2("[data-wishlist-container]");jQuery.getJSON("/products/"+ProductHandle+".js",function(product){var productHTML="",price_min=Shopify.formatMoney(product.price_min,window.money_format);productHTML+='<div class="grid-item" data-wishlist-added="wishlist-'+product.id+'">',productHTML+='<div class="inner product-item" data-product-id="product-'+product.handle+'">',productHTML+='<div class="column col-img"><div class="product-image">',productHTML+='<a href="'+product.url+'" class="product-grid-image" data-collections-related="/collections/all?view=related">',productHTML+='<img src="'+product.featured_image+'" alt="'+product.featured_image.alt+'">',productHTML+="</a></div></div>",productHTML+='<div class="column col-prod">',productHTML+='<a class="product-title" href="'+product.url+'" title="'+product.title+'">'+product.title+"</a>",productHTML+='<div class="product-vendor">',productHTML+='<a href="/collections/vendors?q='+product.vendor+'" title="'+product.vendor+'">'+product.vendor+"</a></div></div>",productHTML+='<div class="column col-price text-center"><div class="price-box">'+price_min+"</div></div>",productHTML+='<div class="column col-options text-center">',productHTML+='<form action="/cart/add" method="post" class="variants" data-id="product-actions-'+product.id+'" enctype="multipart/form-data">',product.available?(product.variants.length==1&&(productHTML+='<button data-btn-addToCart class="btn add-to-cart-btn" type="submit">'+window.inventory_text.add_to_cart+'</button><input type="hidden" name="id" value="'+product.variants[0].id+'" />'),product.variants.length>1&&(productHTML+='<a class="btn" title="'+product.title+'" href="'+product.url+'">'+window.inventory_text.select_options+"</a>")):productHTML+='<button class="btn add-to-cart-btn" type="submit" disabled="disabled">'+window.inventory_text.unavailable+"</button>",productHTML+="</form></div>",productHTML+='<div class="column col-remove text-center"><a class="whislist-added" href="#" data-product-handle="'+product.handle+'" data-icon-wishlist data-id="'+product.id+'"><svg class="closemnu" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 357 357" xml:space="preserve"><g><g><polygon points="357,35.7 321.3,0 178.5,142.8 35.7,0 0,35.7 142.8,178.5 0,321.3 35.7,357 178.5,214.2 321.3,357 357,321.3 214.2,178.5"></polygon></g></g></svg></a></div>',productHTML+="</div></div>",wishListCotainer.append(productHTML);var regex=/(<([^>]+)>)/ig,href=$2(".wrapper-wishlist a.share").attr("href");href+=encodeURIComponent(product.title+"\nPrice: "+price_min.replace(regex,"")+"\nLink: "+window.location.protocol+"//"+window.location.hostname+product.url+"\n\n"),$2(".wrapper-wishlist a.share").attr("href",href)})},initWishListPagging:function(){var data=JSON.parse(localStorage.getItem("items")),wlpaggingContainer=$2("#wishlist-paginate"),paggingTpl='<li class="text disabled prev"><a href="#" title="'+window.inventory_text.previous+'"><i class="fa fa-angle-left" aria-hidden="true"></i><span>'+window.inventory_text.previous+"</span></a></li>",wishListCotainer=$2("[data-wishlist-container]");wlpaggingContainer.children().remove();var totalPages=Math.ceil(data.length/3);if(totalPages<=1){wishListCotainer.children().show();return}for(var i=0;i<totalPages;i++){var pageNum=i+1;i===0?paggingTpl+='<li class="active"><a data-page="'+pageNum+'" href="'+pageNum+'" title="'+pageNum+'">'+pageNum+"</a></li>":paggingTpl+='<li><a data-page="'+pageNum+'" href="'+pageNum+'" title="'+pageNum+'">'+pageNum+"</a></li>"}paggingTpl+='<li class="text next"><a href="#" title="'+window.inventory_text.next+'"><span>'+window.inventory_text.next+'</span><i class="fa fa-angle-right" aria-hidden="true"></i></a></li>',wlpaggingContainer.append(paggingTpl),wishListCotainer.children().each(function(idx,elm){idx>=0&&idx<3?$2(elm).show():$2(elm).hide()}),wlpaggingContainer.off("click.wl-pagging").on("click.wl-pagging","li a",function(e){e.preventDefault();var isPrev=$2(this).parent().hasClass("prev"),isNext=$2(this).parent().hasClass("next"),pageNumber=$2(this).data("page");if(isPrev){var curPage=parseInt($2(this).parent().siblings(".active").children().data("page"));pageNumber=curPage-1}if(isNext){var curPage=parseInt($2(this).parent().siblings(".active").children().data("page"));pageNumber=curPage+1}wishListCotainer.children().each(function(idx,elm){idx>=(pageNumber-1)*3&&idx<pageNumber*3?$2(elm).show():$2(elm).hide()}),pageNumber===1?(wlpaggingContainer.find(".prev").addClass("disabled"),wlpaggingContainer.find(".next").removeClass("disabled")):pageNumber===totalPages?(wlpaggingContainer.find(".next").addClass("disabled"),wlpaggingContainer.find(".prev").removeClass("disabled")):(wlpaggingContainer.find(".prev").removeClass("disabled"),wlpaggingContainer.find(".next").removeClass("disabled")),$2(this).parent().siblings(".active").removeClass("active"),wlpaggingContainer.find('[data-page="'+pageNumber+'"]').parent().addClass("active")})},initWishLists:function(){if(typeof Storage!="undefined"){var data=JSON.parse(localStorage.getItem("items"));if(data.length<=0)return;data.forEach(function(item){ella.createWishListTplItem(item)}),this.initWishListPagging(),this.translateBlock(".wishlist-page")}else alert("Sorry! No web storage support..")},setAddedForWishlistIcon:function(ProductHandle){var wishlistElm=$2('[data-product-handle="'+ProductHandle+'"]'),idxArr=wishListsArr.indexOf(ProductHandle);idxArr>=0?(wishlistElm.addClass("whislist-added"),wishlistElm.find(".wishlist-text").text(window.inventory_text.remove_wishlist)):(wishlistElm.removeClass("whislist-added"),wishlistElm.find(".wishlist-text").text(window.inventory_text.add_wishlist))},doAddOrRemoveWishlish:function(){var iconWishListsSlt="[data-icon-wishlist]";doc.off("click.addOrRemoveWishlist",iconWishListsSlt).on("click.addOrRemoveWishlist",iconWishListsSlt,function(e){e.preventDefault();var self=$2(this),productId=self.data("id"),ProductHandle=self.data("product-handle"),idxArr=wishListsArr.indexOf(ProductHandle);self.hasClass("whislist-added")?(self.removeClass("whislist-added"),self.find(".wishlist-text").text(window.inventory_text.add_wishlist),$2('[data-wishlist-added="wishlist-'+productId+'"]').length&&$2('[data-wishlist-added="wishlist-'+productId+'"]').remove(),wishListsArr.splice(idxArr,1),localStorage.setItem("items",JSON.stringify(wishListsArr)),$2("[data-wishlist-container]").length&&ella.initWishListPagging()):(self.addClass("whislist-added"),self.find(".wishlist-text").text(window.inventory_text.remove_wishlist),$2("[data-wishlist-container]").length&&ella.createWishListTplItem(ProductHandle),wishListsArr.push(ProductHandle),localStorage.setItem("items",JSON.stringify(wishListsArr))),ella.setAddedForWishlistIcon(ProductHandle)})},initWishListIcons:function(){var wishListItems=localStorage.getItem("items")?JSON.parse(localStorage.getItem("items")):[];if(wishListItems.length)for(var i=0;i<wishListItems.length;i++){var icon=$2('[data-product-handle="'+wishListItems[i]+'"]');icon.addClass("whislist-added"),icon.find(".wishlist-text").text(window.inventory_text.remove_wishlist)}},wrapTable:function(){var table=$2(".tab-content").find("table");table.length&&table.each(function(){$2(this).wrap('<div class="table-wrapper"></div>')})},initBundleProducts:function(){var btnAddToCartSlt="[data-bundle-addToCart]",bundleImagesSlide=$2("[data-bundle-images-slider]"),btnToggleOptionsSlt=".fbt-toogle-options",bundlePrice=$2(".products-grouped-action .bundle-price"),bundleCheckbox=".bundle-checkbox",replaceDiscountRate=function(){if(bundlePrice.length>0){var discountRate=bundlePrice.data("discount-rate")*100,discountText=$2(".products-grouped-action .discount-text span");discountText.length>0&&discountText.each(function(){$2(this).text($2(this).text().replace("[discount]",discountRate)).parent().show()})}},bundleSlider=function(){if(bundleImagesSlide.length&&bundleImagesSlide.not(".slick-initialized")){var images=bundleImagesSlide.data("rows");bundleImagesSlide.slick({get slidesToShow(){return images>=5?this.slidesToShow=5:this.slidesToShow=images},slidesToScroll:1,dots:!1,infinite:!1,speed:800,nextArrow:'<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>',prevArrow:'<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',responsive:[{breakpoint:992,settings:{get slidesToShow(){return images>=4?this.slidesToShow=4:this.slidesToShow=images}}},{breakpoint:480,settings:{get slidesToShow(){return images>3?this.slidesToShow=3:this.slidesToShow=images}}}]})}},toggleVariantOptions=function(){body.off("click.toggleVariantOptions",btnToggleOptionsSlt).on("click.toggleVariantOptions",btnToggleOptionsSlt,function(e){e.preventDefault(),$2(this).next().slideToggle()})},handleCheckedProduct=function(){$2(".fbt-checkbox input").prop("checked",!0),body.off("click.checkedProduct",bundleCheckbox).on("click.checkedProduct",bundleCheckbox,function(e){e.preventDefault();var self=$2(this),ipt=self.prev(),dataId=self.closest(".fbt-product-item").data("bundle-product-id");ipt.prop("checked")?(ipt.prop("checked",!1),$2('[data-bundle-product-id="'+dataId+'"]').removeClass("isChecked")):(ipt.prop("checked",!0),$2('[data-bundle-product-id="'+dataId+'"]').addClass("isChecked")),updateTotalPrice()})},initSelectedSwatch=function(){$2(".fbt-product-item").each(function(){var self=$2(this),productId=self.data("bundle-product-id"),selectedVariantId=$2(this).find('[name="group_id"]').val(),productOpts=self.find(".swatch"),variantArr=window.productVariants[productId];if(variantArr){var selectedVariant=variantArr.find(function(variant){return variant.id==selectedVariantId});productOpts.each(function(index){var optionIndex="option"+(index+1),selectedSwatch=$2(this).find('.swatch-element[data-value="'+selectedVariant[optionIndex]+'"]');selectedSwatch.find("input").prop("checked",!0)})}})},updateTotalPrice=function(){var bundleProItem=$2(".fbt-product-item.isChecked"),bundlePrice2=$2(".products-grouped-action .bundle-price"),oldPrice=$2(".products-grouped-action .old-price"),discountRate=bundlePrice2.data("discount-rate"),totalPrice=0,checkedProductLength=$2(".fbt-product-item.isChecked").length,maxProduct=$2(".fbt-product-item").length;bundleProItem.each(function(){var selectElm=$2(this).find("select[name=group_id]");if(selectElm.length)var price=selectElm.find(":selected").data("price");else var price=$2(this).find("input[name=group_id]").data("price");price&&(totalPrice+=price,bundlePrice2.length>0&&oldPrice.length>0&&(oldPrice.html(Shopify.formatMoney(totalPrice,window.money_format)),bundlePrice2.html(Shopify.formatMoney(totalPrice*(1-discountRate),window.money_format)),checkedProductLength==maxProduct?(window.bundleMatch=!0,bundlePrice2.show(),oldPrice.show(),$2(".products-grouped-action .price").hide()):(window.bundleMatch=!1,bundlePrice2.hide(),oldPrice.hide(),$2(".products-grouped-action .price").show())),$2(".products-grouped-action .total .price").html(Shopify.formatMoney(totalPrice,window.money_format)))}),Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"span.money","money_format")},disableSoldoutSwatchAllBundles=function(){var productItem=$2(".fbt-product-item");productItem.each(function(){var self=$2(this);disableSoldoutSwatchBundle(self)})},disableSoldoutSwatchBundle=function(productItem){var productId=productItem.data("bundle-product-id"),variantList=window.productVariants[productId],options=productItem.find("[data-option-idx]"),selectedSwatchOpt1=productItem.find('[data-option-idx="0"]').find("input:checked").val(),selectedSwatchOpt2=productItem.find('[data-option-idx="1"]').find("input:checked").val(),selectedSwatchOpt3=productItem.find('[data-option-idx="2"]').find("input:checked").val();options.each(function(){var optionIndex=$2(this).data("option-idx"),swatch=$2(this).find(".swatch-element");switch(optionIndex){case 0:swatch.each(function(){var swatchVal=$2(this).data("value"),opt1Soldout=variantList.find(function(variant){return variant.option1==swatchVal&&variant.available});opt1Soldout==null&&($2(this).addClass("soldout"),$2(this).find(":radio").prop("disabled",!0))});break;case 1:swatch.each(function(){var swatchVal=$2(this).data("value"),opt1Soldout=variantList.find(function(variant){return variant.option1==selectedSwatchOpt1&&variant.option2==swatchVal&&variant.available});opt1Soldout==null&&($2(this).addClass("soldout"),$2(this).find(":radio").prop("disabled",!0))});break;case 2:swatch.each(function(){var swatchVal=$2(this).data("value"),opt1Soldout=variantList.find(function(variant){return variant.option1==selectedSwatchOpt1&&variant.option2==selectedSwatchOpt2&&variant.option3==swatchVal&&variant.available});opt1Soldout==null&&($2(this).addClass("soldout"),$2(this).find(":radio").prop("disabled",!0))});break}})},changeSwatchProductBundle=function(){var swatchSlt=".fbt-product-item .swatch :radio";doc.off("change.changeBundleSwatch",swatchSlt).on("change.changeBundleSwatch",swatchSlt,function(e){var self=$2(this);if(self.prop("checked")){var productItem=$2(this).closest(".fbt-product-item"),productId=productItem.data("bundle-product-id"),variantList=window.productVariants[productId],optionIdx=self.closest("[data-option-idx]").data("option-idx"),swatches=productItem.find(".swatch-element"),thisVal=self.val(),selectedVariant,fbtPrice=productItem.find(".fbt-prices"),priceSale=fbtPrice.find(".price-sale"),productPrice=fbtPrice.find("[data-fbt-price-change]"),productInput=productItem.find("[name=group_id]"),selectedSwatchOpt1=productItem.find('[data-option-idx="0"]').find("input:checked").val(),selectedSwatchOpt2=productItem.find('[data-option-idx="1"]').find("input:checked").val(),selectedSwatchOpt3=productItem.find('[data-option-idx="2"]').find("input:checked").val();switch(swatches.removeClass("soldout"),swatches.find(":radio").prop("disabled",!1),optionIdx){case 0:var availableVariants=variantList.find(function(variant){return variant.option1==thisVal&&variant.option2==selectedSwatchOpt2&&variant.available});if(availableVariants!=null)selectedVariant=availableVariants;else{var altAvailableVariants=variantList.find(function(variant){return variant.option1==thisVal&&variant.available});selectedVariant=altAvailableVariants}break;case 1:var availableVariants=variantList.find(function(variant){return variant.option1==selectedSwatchOpt1&&variant.option2==thisVal&&variant.available});availableVariants!=null?selectedVariant=availableVariants:console.log("Bundle Error: variant was soldout, on option selection #2");break;case 2:var availableVariants=variantList.find(function(variant){return variant.option1==selectedSwatchOpt1&&variant.option2==selectedSwatchOpt2&&variant.option3==thisVal&&variant.available});availableVariants!=null?selectedVariant=availableVariants:console.log("Bundle Error: variant was soldout, on option selection #3");break}productInput.val(selectedVariant.id),initSelectedSwatch(),disableSoldoutSwatchBundle(productItem),productPrice.html(Shopify.formatMoney(selectedVariant.price,window.money_format)),productItem.find("input[name=id][type=hidden]").val(selectedVariant.id),selectedVariant.compare_at_price>selectedVariant.price?(priceSale.find("[data-fbt-price-change]").addClass("special-price"),priceSale.find(".old-price").html(Shopify.formatMoney(selectedVariant.compare_at_price,window.money_format)).show()):(priceSale.find(".old-price").hide(),priceSale.find("[data-fbt-price-change]").removeClass("special-price")),productItem.find("select").val(selectedVariant.id).trigger("change"),updateTotalPrice(),Currency.convertAll(window.shop_currency,$2("#currencies .active").attr("data-currency"),"span.money","money_format");var newImage=productInput.find("option:selected",this).attr("data-image");if(newImage!=null){var productImage=$2('.fbt-image-item[data-bundle-product-id="'+productId+'"]').find("img");productImage.attr("src",newImage)}}})},initBundleAddToCart=function(){doc.off("click.bundleAddToCart",btnAddToCartSlt).on("click.bundleAddToCart",btnAddToCartSlt,function(e){e.preventDefault();var self=$2(this),form=self.closest("form"),curPro=form.find("[data-collections-related]"),handle=curPro.data("collections-related"),bundleProduct=form.find("[data-grouped-product-item].isChecked"),title=$2("h1.product-title").text(),image=$2('[id^="product-featured-image"]').first().attr("src");if(self.attr("disabled")!=="disabled"){ella.showLoading(),Shopify.queue=[];var i=0;bundleProduct.each(function(){debugger;var variantId2=$2(this).find("[name=group_id]").val();variantId2&&Shopify.queue.push({variantId:variantId2,quantity:1})}),Shopify.moveAlong=function(){if(Shopify.queue.length){var request=Shopify.queue.shift();ella.showLoading(),Shopify.addItem(request.variantId,request.quantity,Shopify.moveAlong),ella.ellaTimeout=setTimeout(function(){ella.hideLoading()},5e3)}else{ella.hideLoading();var variant_id=curPro.find("[name=id]").val(),formData=$2(self.data("form-id")),data=formData.serialize(),quantity2=1;switch(window.ajax_cart){case"none":ella.doAjaxAddToCart(data,handle,!0);break;case"normal":ella.doAjaxAddToCartNormal(data,title,image);break;case"upsell":ella.doAjaxAddToCart(data,handle);break}try{var discount_code="FBT-BUNDLE-"+meta.product.id;ella.apply_discount(discount_code)}catch(e2){console.log(e2)}return!1}},Shopify.moveAlong()}})};replaceDiscountRate(),bundleSlider(),toggleVariantOptions(),handleCheckedProduct(),initSelectedSwatch(),disableSoldoutSwatchAllBundles(),changeSwatchProductBundle(),updateTotalPrice(),initBundleAddToCart()},apply_discount:function(discount_code){window.bundleMatch&&$2.ajax({url:"/discount/"+discount_code,success:function(response){console.log("Discount code added")}})},checkBundleProducts:function(){var discount_code=$2.cookie("discount_code");if(discount_code!=""&&discount_code!=null){var mainProduct=discount_code.replace("FBT-BUNDLE-","");mainProduct!=""&&getShoppingCart()}function getShoppingCart(){if($2("ul.cart-list li").length>0){var check=!1,cart=[];$2("ul.cart-list li").each(function(i,el){var product_id=$2(el).data("product_id");product_id==mainProduct&&(check=!0),cart.indexOf(product_id)==-1&&cart.push(product_id)}),check==!0?$2.ajax({url:"/collections/bundle-"+mainProduct+"?view=bundle-json",success:function(response){var myBundle=JSON.parse(response);cart.length>=myBundle.results.length?checkProductInCart(cart,myBundle.results):remove_discount()}}):remove_discount()}}function checkProductInCart(cart,collection){var i=0;collection.forEach(function(el){cart.indexOf(el.id)!=-1&&i++}),i!=collection.length&&remove_discount()}function remove_discount(){$2.ajax({url:"/checkout?discount=%20",success:function(response){console.log("Discount code removed")}})}}}})(jQuery);function collectionDescription(){var description=$(".category-description").html();$(".bottom-description-section").html(description)}collectionDescription();var $assistance_ul=$(".customer-links");$(".header-links .fa-user").click(function(){var $me=$(this);$me.hasClass("Active")?($me.removeClass("Active"),$assistance_ul.addClass("display-none")):($me.addClass("Active"),$assistance_ul.removeClass("display-none"))});
//# sourceMappingURL=/cdn/shop/t/13/assets/halo.js.map?v=161360553723329960431609917331
